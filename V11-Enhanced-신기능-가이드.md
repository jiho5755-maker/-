# 2026 HR 대시보드 V11 Enhanced - 신기능 가이드

## 🎉 V11에서 새롭게 추가된 기능

### 1. 💰 **Grant Sniper (정부지원금 자동 매칭)**
직원 정보를 입력하면 자동으로 신청 가능한 정부 지원금을 매칭해줍니다.

**지원금 종류:**
- 청년일자리도약장려금 (15~34세, 월 200만원 이상)
- 고령자 고용지원금 (60세 이상)
- 두루누리 사회보험료 지원 (월 270만원 미만)
- 육아휴직 대체인력 지원금
- 일자리안정자금

**사용 방법:**
1. 직원 정보에 생년월일, 급여 정확히 입력
2. JavaScript 콘솔에서 `showGrantsForEmployee(직원ID)` 호출
3. 또는 코드에서 `analyzeGrants(직원객체)` 함수 사용

**예시:**
```javascript
// 김철수(ID:1)님의 지원금 확인
showGrantsForEmployee(1);
```

---

### 2. 🛡️ **안전점검 출근 시스템 (중대재해처벌법 대응)**
출근 시 필수 안전점검 항목을 체크하여 법적 증빙 자료를 자동 저장합니다.

**안전점검 항목:**
- 안전모 착용 확인
- 기계/장비 점검 완료
- 소화기 위치 확인
- 안전교육 이수 여부

**사용 방법:**
```javascript
// 직원 출근 기록 (최소 3개 이상 체크 필수)
recordSafetyCheckIn(직원ID);
```

**저장 데이터:**
- 직원명, 날짜, 시간
- 체크한 안전점검 항목 목록
- 법적 증빙용 타임스탬프

---

### 3. 💵 **프리랜서 3.3% 원천징수 자동 계산**
프리랜서 직원은 4대보험 제외하고 3.3% 원천징수만 자동 계산됩니다.

**직원 타입:**
- 정규직: 4대보험 + 소득세
- 계약직: 4대보험 + 소득세
- **프리랜서**: 3.3% 원천징수만

**설정 방법:**
직원 데이터에 `empType: '프리랜서'` 추가

```javascript
{
    id: 3,
    name: '박프리',
    empType: '프리랜서',  // 이 필드 추가
    baseSalary: 3000000,
    ...
}
```

---

### 4. 🚨 **Three Strikes Rule (이슈 3회 누적 경고)**
동일 유형 이슈가 3회 누적되면 자동으로 경고합니다.

**사용 방법:**
```javascript
// 직원의 경고 상태 확인
const warnings = checkThreeStrikes(직원ID);

if (warnings.length > 0) {
    // 경고장 발행 필요
    console.log('경고 대상:', warnings);
}
```

**예시:**
- 지각 3회 → 경고장 자동 안내
- 무단결근 3회 → 시말서 필요 알림

---

### 5. 📦 **소모품 요청 시스템**
직원이 필요한 소모품을 요청하고 관리자가 승인하는 시스템입니다.

**사용 방법:**
```javascript
// 소모품 요청 (직원용)
addSupplyRequest();

// 요청 승인 (관리자용)
approveSupply(요청ID);

// 목록 갱신
updateSupplyList();
```

**프로세스:**
1. 직원이 품목/수량 입력
2. `pending` 상태로 저장
3. 관리자가 "구매 완료" 클릭
4. `approved` 상태로 변경

---

### 6. 🔄 **자동 반복 업무 생성**
매월 고정 업무가 자동으로 Kanban 보드에 추가됩니다.

**자동 생성 업무:**
- 매월 10일: 원천세 신고
- 매월 25일: 급여 이체
- 분기말 (3,6,9,12월): 부가세 신고

**동작 방식:**
- 페이지 로드 시 `generateRecurringTasks()` 자동 실행
- 중복 생성 방지 로직 포함
- 자동으로 Kanban "To Do"에 추가

---

### 7. 📊 **은행 이체용 엑셀 다운로드**
급여 이체를 위한 엑셀 파일을 원클릭으로 생성합니다.

**사용 방법:**
```javascript
downloadBankTransferExcel();
```

**생성 항목:**
- 이름
- 부서
- 계좌번호
- 은행명
- 이체금액 (프리랜서는 3.3% 차감 후)
- 비고

**파일명 예시:**
`급여이체_2026년1월.xlsx`

---

## 🔧 기술 스펙

### 추가된 라이브러리
- **SheetJS (v0.18.5)**: 엑셀 파일 생성

### 새로운 데이터 배열
```javascript
let supplies = [];        // 소모품 요청
let safetyChecks = [];    // 안전점검 기록
let grants = [];          // 지원금 매칭 결과
```

### LocalStorage 키
- `hrSupplies`
- `hrSafetyChecks`
- `hrGrants`

---

## 📝 직원 데이터 필수 필드

V11에서 정상 작동하려면 직원 데이터에 다음 필드가 필요합니다:

```javascript
{
    id: 1,
    name: "김철수",
    birthDate: "1990-01-01",        // 필수 (지원금 계산용)
    joinDate: "2023-01-01",         // 필수
    baseSalary: 3000000,            // 필수
    empType: "정규직",              // 정규직/계약직/프리랜서
    bankAccount: "110-123-456789",  // 은행 이체용
    bankName: "우리은행",           // 은행 이체용
    hasChild: false,                // 육아지원금 판정용
    dept: "개발팀",
    position: "사원"
}
```

---

## 🎯 활용 예시

### 시나리오 1: 청년 직원 채용
```javascript
// 1. 25세 청년 직원 등록
employees.push({
    id: Date.now(),
    name: "이청년",
    birthDate: "1999-03-15",
    baseSalary: 2200000,
    empType: "정규직",
    joinDate: "2026-01-01"
});

// 2. 지원금 확인
showGrantsForEmployee(이청년의ID);
// → "청년일자리도약장려금" 자동 매칭!
```

### 시나리오 2: 급여일 처리
```javascript
// 1. 자동 업무 생성 (25일에 자동)
generateRecurringTasks();
// → "1월 급여 이체" 업무 자동 추가

// 2. 엑셀 다운로드
downloadBankTransferExcel();
// → 급여이체_2026년1월.xlsx 다운로드

// 3. 은행 사이트에 업로드 → 일괄 이체 완료
```

### 시나리오 3: 현장 안전 관리
```javascript
// 출근 시 안전점검 체크 (UI에서 체크박스 선택 후)
recordSafetyCheckIn(직원ID);
// → 최소 3개 체크 필수
// → safetyChecks 배열에 자동 저장 (법적 증빙)
```

---

## ⚠️ 주의사항

1. **데이터 백업**: V10과 호환되지만 새 필드 추가됨. 기존 데이터 백업 권장
2. **SheetJS CDN**: 인터넷 연결 필요 (오프라인 시 엑셀 다운로드 불가)
3. **브라우저 호환성**: Chrome, Edge, Firefox 최신 버전 권장
4. **프리랜서 계산**: empType 필드가 정확해야 3.3% 정확히 계산됨

---

## 🚀 향후 업데이트 예정

- [ ] UI에 Grant Sniper 버튼 직접 추가
- [ ] 안전점검 체크박스 UI 개선
- [ ] 소모품 요청 전용 섹션 추가
- [ ] 지원금 신청 서류 PDF 자동 생성
- [ ] Three Strikes 경고장 자동 작성

---

## 📞 문의 및 피드백

V11 Enhanced는 V10의 완성도를 그대로 유지하면서,
제조/유통업 특화 기능들을 추가한 버전입니다.

**파일 위치:**
`/Users/jangjiho/Desktop/커서AI/2026-HR-Ultimate-Dashboard-V11-Enhanced.html`

---

## 🎓 V10 대비 개선사항 요약

| 기능 | V10 | V11 Enhanced |
|------|-----|--------------|
| 지원금 매칭 | ❌ | ✅ 5종 자동 매칭 |
| 프리랜서 지원 | ⚠️ 수동 | ✅ 3.3% 자동 |
| 안전 관리 | ❌ | ✅ 중대재해법 대응 |
| 소모품 관리 | ❌ | ✅ 요청/승인 시스템 |
| 엑셀 다운로드 | ❌ | ✅ 은행 이체용 |
| 반복 업무 | ⚠️ 수동 | ✅ 자동 생성 |
| Three Strikes | ❌ | ✅ 자동 경고 |

---

**버전:** V11 Enhanced  
**출시일:** 2026년 1월  
**베이스:** V10 (완전 호환)  
**라이센스:** 내부 사용 전용

