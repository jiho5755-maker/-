<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì „êµ­ íŒŒíŠ¸ë„ˆ ê³µë°© ì°¾ê¸° - í”„ë ˆìŠ¤ì½”21 (ì‹¤ì œ ì‘ë™ ë²„ì „)</title>
  
  <!-- ë¸Œëœë“œ ì‹œìŠ¤í…œ CSS - ì•„ë˜ style íƒœê·¸ì— ëª¨ë‘ í¬í•¨ë˜ì–´ ìˆìŒ -->
  <!-- <link rel="stylesheet" href="01-brand-system.css"> -->
  
  <!-- ë„¤ì´ë²„ ì§€ë„ API - Client ID ì ìš© ì™„ë£Œ! -->
  <script type="text/javascript" src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpClientId=zvjwwytr2i"></script>
  
  <style>
    /* ========== ê¸°ë³¸ ìŠ¤íƒ€ì¼ (01-brand-system.cssì™€ ë™ì¼) ========== */
    :root {
      --color-primary: #7B8E7E;
      --color-primary-light: #9FB0A2;
      --color-primary-dark: #5A6B5D;
      --color-secondary: #B5A48B;
      --color-background: #F9F8F5;
      --color-white: #FFFFFF;
      --color-text-primary: #2C2C2C;
      --color-text-secondary: #666666;
      --color-border: #E5E3DC;
      --spacing-xs: 8px;
      --spacing-sm: 12px;
      --spacing-md: 16px;
      --spacing-lg: 24px;
      --spacing-xl: 32px;
      --spacing-xxl: 48px;
      --spacing-xxxl: 64px;
      --border-radius-sm: 4px;
      --border-radius-md: 8px;
      --border-radius-lg: 12px;
      --border-radius-xl: 16px;
      --shadow-sm: 0 2px 8px rgba(123, 142, 126, 0.08);
      --shadow-md: 0 4px 16px rgba(123, 142, 126, 0.12);
      --shadow-lg: 0 8px 24px rgba(123, 142, 126, 0.15);
      --transition-base: 0.3s ease;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Pretendard', sans-serif;
      font-size: 16px;
      line-height: 1.7;
      color: var(--color-text-primary);
      background-color: var(--color-background);
    }
    
    .container {
      max-width: 1280px;
      margin: 0 auto;
      padding: 0 20px;
    }
    
    /* ========== í˜ì´ì§€ í—¤ë” ========== */
    .page-header {
      background: linear-gradient(135deg, #7B8E7E 0%, #5A6B5D 100%);
      color: white;
      padding: 48px 0;
      text-align: center;
    }
    
    .page-title {
      font-size: 32px;
      font-weight: bold;
      margin-bottom: 12px;
    }
    
    .page-subtitle {
      font-size: 18px;
      opacity: 0.95;
    }
    
    /* ========== í•„í„° ì˜ì—­ ========== */
    .filter-section {
      background-color: white;
      padding: 24px;
      box-shadow: var(--shadow-sm);
      position: sticky;
      top: 0;
      z-index: 100;
    }
    
    .filter-container {
      display: flex;
      gap: 16px;
      align-items: center;
      flex-wrap: wrap;
      max-width: 1280px;
      margin: 0 auto;
    }
    
    .filter-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
      flex: 1;
      min-width: 200px;
    }
    
    .filter-label {
      font-size: 14px;
      font-weight: 600;
      color: #666;
    }
    
    .filter-buttons {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }
    
    .filter-btn {
      padding: 10px 16px;
      font-size: 16px;
      background-color: #F9F8F5;
      border: 2px solid #E5E3DC;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .filter-btn:hover {
      border-color: #7B8E7E;
      background-color: #9FB0A2;
      color: white;
    }
    
    .filter-btn.active {
      background-color: #7B8E7E;
      color: white;
      border-color: #7B8E7E;
      font-weight: 600;
    }
    
    /* ========== ë©”ì¸ ì»¨í…ì¸  ========== */
    .map-content {
      display: grid;
      grid-template-columns: 400px 1fr;
      gap: 0;
      max-width: 1280px;
      margin: 32px auto;
      box-shadow: var(--shadow-lg);
      border-radius: 16px;
      overflow: hidden;
      background-color: white;
      height: 700px;
    }
    
    /* ========== ê³µë°© ëª©ë¡ ========== */
    .workshop-list {
      background-color: #FFFEF9;
      overflow-y: auto;
      border-right: 1px solid #E5E3DC;
    }
    
    .workshop-list-header {
      padding: 24px;
      background-color: white;
      border-bottom: 2px solid #E5E3DC;
      position: sticky;
      top: 0;
      z-index: 10;
    }
    
    .workshop-count {
      font-size: 18px;
      font-weight: 600;
      color: #7B8E7E;
    }
    
    .workshop-item {
      padding: 20px;
      border-bottom: 1px solid #F0EFE9;
      cursor: pointer;
      transition: all 0.3s ease;
      background-color: white;
      margin: 8px;
      border-radius: 8px;
    }
    
    .workshop-item:hover {
      background-color: #9FB0A2;
      color: white;
      box-shadow: var(--shadow-md);
      transform: translateX(4px);
    }
    
    .workshop-item.active {
      background-color: #7B8E7E;
      color: white;
      box-shadow: var(--shadow-md);
    }
    
    .workshop-badge {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      background-color: #B5A48B;
      color: white;
      padding: 4px 10px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 600;
      margin-bottom: 8px;
    }
    
    .workshop-item:hover .workshop-badge,
    .workshop-item.active .workshop-badge {
      background-color: white;
      color: #7B8E7E;
    }
    
    .workshop-name {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 6px;
    }
    
    .workshop-genres {
      font-size: 14px;
      color: #666;
      margin-bottom: 8px;
    }
    
    .workshop-item:hover .workshop-genres,
    .workshop-item.active .workshop-genres {
      color: white;
      opacity: 0.9;
    }
    
    .workshop-address {
      font-size: 14px;
      color: #666;
      margin-bottom: 8px;
    }
    
    .workshop-item:hover .workshop-address,
    .workshop-item.active .workshop-address {
      color: white;
      opacity: 0.85;
    }
    
    .workshop-contact {
      display: flex;
      gap: 8px;
      margin-top: 12px;
    }
    
    .contact-btn {
      flex: 1;
      padding: 8px 12px;
      background-color: #F9F8F5;
      border: 1px solid #E5E3DC;
      border-radius: 6px;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.2s ease;
      text-align: center;
    }
    
    .contact-btn:hover {
      background-color: #7B8E7E;
      color: white;
      border-color: #7B8E7E;
    }
    
    .workshop-item.active .contact-btn {
      background-color: white;
      border-color: white;
      color: #7B8E7E;
    }
    
    /* ========== ì§€ë„ ì˜ì—­ ========== */
    .map-container {
      position: relative;
      height: 700px;
      background-color: #E5E3DC;
    }
    
    #map {
      width: 100%;
      height: 100%;
    }
    
    /* API ë¡œë”© ìƒíƒœ */
    .map-loading {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
      color: #666;
      font-size: 18px;
    }
    
    .map-loading.hidden {
      display: none;
    }
    
    /* ========== ì»¤ìŠ¤í…€ ì •ë³´ì°½ ========== */
    .custom-infowindow {
      background-color: white;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 4px 16px rgba(0,0,0,0.2);
      min-width: 280px;
      max-width: 320px;
    }
    
    .info-badge {
      display: inline-block;
      background: linear-gradient(135deg, #B5A48B, #968870);
      color: white;
      padding: 6px 12px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 600;
      margin-bottom: 12px;
    }
    
    .info-name {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 8px;
      color: #2C2C2C;
    }
    
    .info-genres {
      font-size: 14px;
      color: #666;
      margin-bottom: 8px;
    }
    
    .info-address {
      font-size: 14px;
      color: #666;
      margin-bottom: 12px;
    }
    
    .info-actions {
      display: flex;
      gap: 8px;
    }
    
    .info-btn {
      flex: 1;
      padding: 10px;
      background-color: #7B8E7E;
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    
    .info-btn:hover {
      background-color: #5A6B5D;
    }
    
    /* ========== ë°˜ì‘í˜• ========== */
    @media (max-width: 1024px) {
      .map-content {
        grid-template-columns: 1fr;
        height: auto;
      }
      
      .workshop-list {
        max-height: 400px;
        border-right: none;
        border-bottom: 1px solid #E5E3DC;
      }
      
      .map-container {
        height: 500px;
      }
    }
    
    @media (max-width: 768px) {
      .filter-container {
        flex-direction: column;
        align-items: stretch;
      }
      
      .filter-group {
        min-width: 100%;
      }
    }
  </style>
</head>
<body>
  
  <!-- í˜ì´ì§€ í—¤ë” -->
  <div class="page-header">
    <div class="container">
      <h1 class="page-title">ğŸ—ºï¸ ì „êµ­ íŒŒíŠ¸ë„ˆ ê³µë°© ì°¾ê¸°</h1>
      <p class="page-subtitle">
        ì´ì§„ì„  ì¥ì¸ì˜ ê³µì‹ ì¸ì¦ì„ ë°›ì€ ì „êµ­ì˜ íŒŒíŠ¸ë„ˆ ê³µë°©ë“¤ì„ ë§Œë‚˜ë³´ì„¸ìš”
      </p>
    </div>
  </div>
  
  <!-- í•„í„° ì„¹ì…˜ -->
  <div class="filter-section">
    <div class="filter-container">
      <!-- ì§€ì—­ í•„í„° -->
      <div class="filter-group">
        <span class="filter-label">ğŸ“ ì§€ì—­</span>
        <div class="filter-buttons">
          <button class="filter-btn active" data-region="all">ì „ì²´</button>
          <button class="filter-btn" data-region="ì„œìš¸">ì„œìš¸</button>
          <button class="filter-btn" data-region="ê²½ê¸°">ê²½ê¸°</button>
          <button class="filter-btn" data-region="ì¸ì²œ">ì¸ì²œ</button>
          <button class="filter-btn" data-region="ë¶€ì‚°">ë¶€ì‚°</button>
        </div>
      </div>
      
      <!-- ê³µì˜ˆ ì¢…ë¥˜ í•„í„° -->
      <div class="filter-group">
        <span class="filter-label">ğŸ¨ ê³µì˜ˆ ì¢…ë¥˜</span>
        <div class="filter-buttons">
          <button class="filter-btn active" data-genre="all">ì „ì²´</button>
          <button class="filter-btn" data-genre="ì••í™”">ì••í™”</button>
          <button class="filter-btn" data-genre="ë ˆì§„">ë ˆì§„</button>
          <button class="filter-btn" data-genre="í•˜ë°”ë¦¬ì›€">í•˜ë°”ë¦¬ì›€</button>
        </div>
      </div>
    </div>
  </div>
  
  <!-- ë©”ì¸ ì»¨í…ì¸ : ê³µë°© ëª©ë¡ + ì§€ë„ -->
  <div class="map-content">
    <!-- ì™¼ìª½: ê³µë°© ëª©ë¡ -->
    <div class="workshop-list">
      <div class="workshop-list-header">
        <div class="workshop-count">
          <span id="visible-count">5</span>ê°œì˜ íŒŒíŠ¸ë„ˆ ê³µë°©
        </div>
      </div>
      
      <div id="workshop-list-container">
        <!-- JavaScriptë¡œ ë™ì  ìƒì„± -->
      </div>
    </div>
    
    <!-- ì˜¤ë¥¸ìª½: ë„¤ì´ë²„ ì§€ë„ -->
    <div class="map-container">
      <div id="map"></div>
      <div class="map-loading" id="map-loading">
        <div style="font-size: 48px; margin-bottom: 16px;">ğŸ—ºï¸</div>
        <div>ì§€ë„ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
      </div>
    </div>
  </div>
  
  <!-- JavaScript -->
  <script>
    // ========================================
    // ì‹¤ì œ ê³µë°© ë°ì´í„° (ì˜ˆì‹œ)
    // ì‹¤ì œë¡œëŠ” ì„œë²„ APIì—ì„œ ê°€ì ¸ì™€ì•¼ í•¨
    // ========================================
    const workshopsData = [
      {
        id: 1,
        name: 'í”Œë¡œë¼ ì••í™” ê³µë°©',
        region: 'ì„œìš¸',
        genres: ['ì••í™”', 'ë ˆì§„'],
        address: 'ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123',
        lat: 37.5048,
        lng: 127.0496,
        phone: '02-1234-5678',
        instagram: 'flora_art'
      },
      {
        id: 2,
        name: 'ë‚˜ë¬´ì™€ ê½ƒ ê³µë°©',
        region: 'ì„œìš¸',
        genres: ['ì••í™”', 'í•˜ë°”ë¦¬ì›€'],
        address: 'ì„œìš¸íŠ¹ë³„ì‹œ ë§ˆí¬êµ¬ ì—°ë‚¨ë™ 456-7',
        lat: 37.5636,
        lng: 126.9269,
        phone: '02-2345-6789',
        instagram: 'tree_flower'
      },
      {
        id: 3,
        name: 'í¬ë¦¬ìŠ¤íƒˆ ë ˆì§„ ì•„ëœ°ë¦¬ì—',
        region: 'ê²½ê¸°',
        genres: ['ë ˆì§„'],
        address: 'ê²½ê¸°ë„ ì„±ë‚¨ì‹œ ë¶„ë‹¹êµ¬ ì •ìë™ 789',
        lat: 37.3595,
        lng: 127.1052,
        phone: '031-3456-7890',
        instagram: 'crystal_resin'
      },
      {
        id: 4,
        name: 'ë´„ë‚ ì˜ ì••í™” ìŠ¤íŠœë””ì˜¤',
        region: 'ì¸ì²œ',
        genres: ['ì••í™”'],
        address: 'ì¸ì²œê´‘ì—­ì‹œ ì—°ìˆ˜êµ¬ ì†¡ë„ë™ 101-2',
        lat: 37.3895,
        lng: 126.6436,
        phone: '032-4567-8901',
        instagram: 'spring_press'
      },
      {
        id: 5,
        name: 'ë°”ë‹¤í–¥ê¸° í”Œë¼ì›Œ ê³µë°©',
        region: 'ë¶€ì‚°',
        genres: ['ì••í™”', 'ë ˆì§„', 'í•˜ë°”ë¦¬ì›€'],
        address: 'ë¶€ì‚°ê´‘ì—­ì‹œ í•´ìš´ëŒ€êµ¬ ìš°ë™ 234-5',
        lat: 35.1628,
        lng: 129.1633,
        phone: '051-5678-9012',
        instagram: 'ocean_flower'
      }
    ];
    
    // ========================================
    // ì „ì—­ ë³€ìˆ˜
    // ========================================
    let map = null;
    let markers = [];
    let infowindows = [];
    let currentFilters = {
      region: 'all',
      genre: 'all'
    };
    
    // ========================================
    // ì§€ë„ ì´ˆê¸°í™”
    // ========================================
    function initMap() {
      try {
        // ë¡œë”© ë©”ì‹œì§€ ìˆ¨ê¸°ê¸°
        document.getElementById('map-loading').classList.add('hidden');
        
        // ì§€ë„ ìƒì„± (ì„œìš¸ ì¤‘ì‹¬)
        const mapOptions = {
          center: new naver.maps.LatLng(37.5665, 126.9780),
          zoom: 11,
          zoomControl: true,
          zoomControlOptions: {
            position: naver.maps.Position.TOP_RIGHT
          },
          mapTypeControl: true
        };
        
        map = new naver.maps.Map('map', mapOptions);
        
        // ëª¨ë“  ê³µë°©ì— ë§ˆì»¤ ìƒì„±
        createMarkers();
        
        console.log('âœ… ì§€ë„ ì´ˆê¸°í™” ì™„ë£Œ!');
      } catch (error) {
        console.error('âŒ ì§€ë„ ì´ˆê¸°í™” ì‹¤íŒ¨:', error);
        document.getElementById('map-loading').innerHTML = `
          <div style="color: #C17B7B;">
            <div style="font-size: 48px; margin-bottom: 16px;">âš ï¸</div>
            <div>ì§€ë„ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤</div>
            <div style="font-size: 14px; margin-top: 8px;">Client IDë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”</div>
          </div>
        `;
      }
    }
    
    // ========================================
    // ë§ˆì»¤ ìƒì„±
    // ========================================
    function createMarkers() {
      workshopsData.forEach((workshop, index) => {
        const position = new naver.maps.LatLng(workshop.lat, workshop.lng);
        
        // ë§ˆì»¤ ìƒì„±
        const marker = new naver.maps.Marker({
          position: position,
          map: map,
          title: workshop.name,
          icon: {
            content: `
              <div style="
                background-color: #7B8E7E;
                color: white;
                padding: 8px 14px;
                border-radius: 20px;
                font-size: 13px;
                font-weight: 600;
                box-shadow: 0 2px 8px rgba(0,0,0,0.2);
                white-space: nowrap;
                cursor: pointer;
                transition: all 0.3s ease;
              ">
                ğŸ“ ${workshop.name}
              </div>
            `,
            anchor: new naver.maps.Point(0, 0)
          }
        });
        
        // ì •ë³´ì°½ ìƒì„±
        const infowindow = new naver.maps.InfoWindow({
          content: createInfoWindowContent(workshop),
          backgroundColor: 'transparent',
          borderWidth: 0,
          disableAnchor: true,
          pixelOffset: new naver.maps.Point(0, -10)
        });
        
        // ë§ˆì»¤ í´ë¦­ ì´ë²¤íŠ¸
        naver.maps.Event.addListener(marker, 'click', function() {
          // ë‹¤ë¥¸ ì •ë³´ì°½ ë‹«ê¸°
          infowindows.forEach(iw => iw.close());
          
          // ì´ ì •ë³´ì°½ ì—´ê¸°
          infowindow.open(map, marker);
          
          // ì§€ë„ ì¤‘ì‹¬ ì´ë™
          map.panTo(position);
          
          // ëª©ë¡ì—ì„œ í•´ë‹¹ í•­ëª© í™œì„±í™”
          selectWorkshopItem(workshop.id);
        });
        
        markers.push({ marker, workshop, infowindow });
        infowindows.push(infowindow);
      });
    }
    
    // ========================================
    // ì •ë³´ì°½ HTML ìƒì„±
    // ========================================
    function createInfoWindowContent(workshop) {
      const genresText = workshop.genres.map(g => {
        const icons = { 'ì••í™”': 'ğŸŒ¸', 'ë ˆì§„': 'ğŸ’', 'í•˜ë°”ë¦¬ì›€': 'ğŸŒ¿' };
        return `${icons[g] || ''} ${g}`;
      }).join(' | ');
      
      return `
        <div class="custom-infowindow">
          <span class="info-badge">â­ ê³µì‹ íŒŒíŠ¸ë„ˆ</span>
          <div class="info-name">${workshop.name}</div>
          <div class="info-genres">${genresText}</div>
          <div class="info-address">ğŸ“ ${workshop.address}</div>
          <div class="info-actions">
            <button class="info-btn" onclick="openInstagram('${workshop.instagram}')">
              ğŸ“· ì¸ìŠ¤íƒ€
            </button>
            <button class="info-btn" onclick="callPhone('${workshop.phone}')">
              ğŸ“ ì „í™”
            </button>
          </div>
        </div>
      `;
    }
    
    // ========================================
    // ê³µë°© ëª©ë¡ ë Œë”ë§
    // ========================================
    function renderWorkshopList() {
      const container = document.getElementById('workshop-list-container');
      const filtered = getFilteredWorkshops();
      
      container.innerHTML = filtered.map(workshop => {
        const genresText = workshop.genres.map(g => {
          const icons = { 'ì••í™”': 'ğŸŒ¸', 'ë ˆì§„': 'ğŸ’', 'í•˜ë°”ë¦¬ì›€': 'ğŸŒ¿' };
          return `${icons[g] || ''} ${g}`;
        }).join(' | ');
        
        return `
          <div class="workshop-item" data-id="${workshop.id}">
            <span class="workshop-badge">â­ ê³µì‹ íŒŒíŠ¸ë„ˆ</span>
            <div class="workshop-name">${workshop.name}</div>
            <div class="workshop-genres">${genresText}</div>
            <div class="workshop-address">ğŸ“ ${workshop.address}</div>
            <div class="workshop-contact">
              <button class="contact-btn" onclick="openInstagram('${workshop.instagram}')">
                ğŸ“· ì¸ìŠ¤íƒ€ê·¸ë¨
              </button>
              <button class="contact-btn" onclick="callPhone('${workshop.phone}')">
                ğŸ“ ì „í™”í•˜ê¸°
              </button>
            </div>
          </div>
        `;
      }).join('');
      
      // ì¹´ìš´íŠ¸ ì—…ë°ì´íŠ¸
      document.getElementById('visible-count').textContent = filtered.length;
      
      // í´ë¦­ ì´ë²¤íŠ¸ ì¶”ê°€
      document.querySelectorAll('.workshop-item').forEach(item => {
        item.addEventListener('click', function(e) {
          if (e.target.closest('.contact-btn')) return;
          
          const id = parseInt(this.dataset.id);
          const workshop = workshopsData.find(w => w.id === id);
          
          if (workshop && map) {
            // ì§€ë„ ì´ë™
            const position = new naver.maps.LatLng(workshop.lat, workshop.lng);
            map.panTo(position);
            map.setZoom(14);
            
            // ë§ˆì»¤ ì •ë³´ì°½ ì—´ê¸°
            const markerData = markers.find(m => m.workshop.id === id);
            if (markerData) {
              infowindows.forEach(iw => iw.close());
              markerData.infowindow.open(map, markerData.marker);
            }
            
            // ëª©ë¡ í™œì„±í™”
            selectWorkshopItem(id);
          }
        });
      });
    }
    
    // ========================================
    // í•„í„°ë§ëœ ê³µë°© ê°€ì ¸ì˜¤ê¸°
    // ========================================
    function getFilteredWorkshops() {
      return workshopsData.filter(workshop => {
        // ì§€ì—­ í•„í„°
        if (currentFilters.region !== 'all' && workshop.region !== currentFilters.region) {
          return false;
        }
        
        // ê³µì˜ˆ ì¢…ë¥˜ í•„í„°
        if (currentFilters.genre !== 'all' && !workshop.genres.includes(currentFilters.genre)) {
          return false;
        }
        
        return true;
      });
    }
    
    // ========================================
    // ë§ˆì»¤ í•„í„°ë§ (ì§€ë„ì—ì„œ ë³´ì´ê¸°/ìˆ¨ê¸°ê¸°)
    // ========================================
    function filterMarkers() {
      const filtered = getFilteredWorkshops();
      const filteredIds = filtered.map(w => w.id);
      
      markers.forEach(({ marker, workshop, infowindow }) => {
        if (filteredIds.includes(workshop.id)) {
          marker.setMap(map);
        } else {
          marker.setMap(null);
          infowindow.close();
        }
      });
      
      // í•„í„°ë§ëœ ê³µë°©ì´ ìˆìœ¼ë©´ í•´ë‹¹ ì˜ì—­ìœ¼ë¡œ ì§€ë„ ì¡°ì •
      if (filtered.length > 0) {
        const bounds = new naver.maps.LatLngBounds();
        filtered.forEach(workshop => {
          bounds.extend(new naver.maps.LatLng(workshop.lat, workshop.lng));
        });
        map.fitBounds(bounds);
      }
    }
    
    // ========================================
    // ê³µë°© ì•„ì´í…œ ì„ íƒ
    // ========================================
    function selectWorkshopItem(id) {
      document.querySelectorAll('.workshop-item').forEach(item => {
        item.classList.remove('active');
      });
      
      const selectedItem = document.querySelector(`[data-id="${id}"]`);
      if (selectedItem) {
        selectedItem.classList.add('active');
        selectedItem.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
      }
    }
    
    // ========================================
    // í•„í„° ì´ë²¤íŠ¸
    // ========================================
    function initFilters() {
      // ì§€ì—­ í•„í„°
      document.querySelectorAll('[data-region]').forEach(btn => {
        btn.addEventListener('click', function() {
          document.querySelectorAll('[data-region]').forEach(b => b.classList.remove('active'));
          this.classList.add('active');
          currentFilters.region = this.dataset.region;
          renderWorkshopList();
          filterMarkers();
        });
      });
      
      // ê³µì˜ˆ ì¢…ë¥˜ í•„í„°
      document.querySelectorAll('[data-genre]').forEach(btn => {
        btn.addEventListener('click', function() {
          document.querySelectorAll('[data-genre]').forEach(b => b.classList.remove('active'));
          this.classList.add('active');
          currentFilters.genre = this.dataset.genre;
          renderWorkshopList();
          filterMarkers();
        });
      });
    }
    
    // ========================================
    // ì™¸ë¶€ ë§í¬ í•¨ìˆ˜
    // ========================================
    function openInstagram(username) {
      window.open(`https://instagram.com/${username}`, '_blank');
    }
    
    function callPhone(number) {
      window.location.href = `tel:${number}`;
    }
    
    // ========================================
    // ì´ˆê¸°í™”
    // ========================================
    document.addEventListener('DOMContentLoaded', function() {
      console.log('ğŸ“ íŒŒíŠ¸ë„ˆ ë§µ ì´ˆê¸°í™” ì¤‘...');
      
      // ê³µë°© ëª©ë¡ ë Œë”ë§
      renderWorkshopList();
      
      // í•„í„° ì´ˆê¸°í™”
      initFilters();
      
      // ë„¤ì´ë²„ ì§€ë„ API í™•ì¸ ë° ì´ˆê¸°í™”
      if (typeof naver !== 'undefined' && naver.maps) {
        initMap();
      } else {
        console.error('âŒ ë„¤ì´ë²„ ì§€ë„ APIë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
        console.log('ğŸ’¡ í•´ê²° ë°©ë²•:');
        console.log('1. <script> íƒœê·¸ì˜ Client IDë¥¼ ë°œê¸‰ë°›ì€ IDë¡œ êµì²´í•˜ì„¸ìš”');
        console.log('2. ë„¤ì´ë²„ í´ë¼ìš°ë“œ í”Œë«í¼ì—ì„œ Web Service URLì„ ë“±ë¡í•˜ì„¸ìš”');
        
        document.getElementById('map-loading').innerHTML = `
          <div style="color: #C17B7B; max-width: 400px;">
            <div style="font-size: 48px; margin-bottom: 16px;">âš ï¸</div>
            <div style="font-size: 18px; margin-bottom: 12px;">ë„¤ì´ë²„ ì§€ë„ API í‚¤ê°€ í•„ìš”í•©ë‹ˆë‹¤</div>
            <div style="font-size: 14px; line-height: 1.6;">
              1. ë„¤ì´ë²„ í´ë¼ìš°ë“œ í”Œë«í¼ì—ì„œ API í‚¤ ë°œê¸‰<br>
              2. HTML íŒŒì¼ì˜ YOUR_CLIENT_ID ë¶€ë¶„ êµì²´<br>
              3. Web Service URLì— ë„ë©”ì¸ ë“±ë¡
            </div>
          </div>
        `;
      }
    });
    
    console.log(`
===========================================
ğŸ—ºï¸  íŒŒíŠ¸ë„ˆ ê³µë°© ì§€ë„ (ì‹¤ì œ ì‘ë™ ë²„ì „)
===========================================
âœ… êµ¬í˜„ëœ ê¸°ëŠ¥:
- ë„¤ì´ë²„ ì§€ë„ API ì—°ë™
- ê³µë°© ë§ˆì»¤ í‘œì‹œ
- ë§ˆì»¤ í´ë¦­ ì‹œ ì •ë³´ì°½
- ì§€ì—­/ê³µì˜ˆë³„ í•„í„°ë§
- ê³µë°© ëª©ë¡ â†” ì§€ë„ ì—°ë™

ğŸ“ ë‹¤ìŒ ë‹¨ê³„:
1. Client ID ë°œê¸‰ ë° êµì²´
2. ì‹¤ì œ ê³µë°© ë°ì´í„° ì—°ë™
3. í…ŒìŠ¤íŠ¸ ë° ë°°í¬
===========================================
    `);
  </script>
  
</body>
</html>
