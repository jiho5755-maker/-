# 🔧 장사의 신 게임 - 코드 수정 및 배포 가이드

## 📍 수정할 파일 위치

```
/Users/jangjiho/Desktop/커서AI/장사의신-게임.py
```

이 파일을 Cursor나 다른 에디터로 수정하시면 됩니다!

---

## 🚀 수정 후 배포하기 (초간단!)

### 방법 1: 자동화 스크립트 사용 (가장 쉬움) ⭐

터미널에서 한 줄만 입력:

```bash
cd "/Users/jangjiho/Desktop/커서AI" && ./배포하기.sh
```

그러면:
1. ✅ 변경사항 확인
2. ✅ GitHub에 자동 업로드
3. ✅ Streamlit Cloud 자동 재배포 (1-2분 소요)

---

### 방법 2: 수동 명령어 (3줄)

```bash
cd "/Users/jangjiho/Desktop/커서AI"
git add .
git commit -m "게임 수정"
git push origin main
```

---

## 🎯 전체 수정 프로세스

### 1단계: 코드 수정
```
장사의신-게임.py 파일을 열어서 원하는 부분 수정
→ 저장 (⌘ + S)
```

### 2단계: GitHub에 업로드
```bash
# 터미널에서 실행
cd "/Users/jangjiho/Desktop/커서AI"
./배포하기.sh
```

### 3단계: 자동 재배포 (1-2분 대기)
- Streamlit Cloud가 자동으로 감지
- 새 버전으로 재배포
- URL은 동일하게 유지

### 4단계: 확인
- 배포된 앱 URL로 접속
- 새로고침 (F5)
- 변경사항 확인!

---

## 💡 자주 수정하는 부분들

### 1. 시장 기본 설정 변경 (31-47줄)

```python
total_money = st.sidebar.number_input(
    "💰 시장 총 화폐량 (원)",
    min_value=10000,
    max_value=10000000,
    value=1000000,  # ← 이 값 수정
    step=10000,
)

total_buyers = st.sidebar.number_input(
    "👥 전체 구매자(조교) 수",
    min_value=5,
    max_value=200,
    value=30,  # ← 이 값 수정
    step=1,
)
```

### 2. 창업 유형 추가/수정 (136-173줄)

```python
business_types = {
    "🔨 뚝딱뚝딱 (제조/만들기)": {
        "cost_ratio": 0.60,  # ← 원가율
        "effort": 4,          # ← 노력도
        "description": "직접 만들어서 파는 사업",
        "key": "manufacturing"
    },
    # 여기에 새로운 유형 추가 가능
}
```

### 3. 상품 등급 수정 (224-243줄)

```python
grade_types = {
    "💚 일반형 (가성비)": {
        "multiplier": 0.8,  # ← 가격 승수
        "target": "🤏 짠물 고객",
        "description": "가격 대비 합리적인 상품",
        "key": "basic"
    },
    # 다른 등급들...
}
```

### 4. 페이지 제목/설명 변경 (6-11줄)

```python
st.set_page_config(
    page_title="🏪 장사의 신 게임 관리 시스템",  # ← 브라우저 탭 제목
    page_icon="💰",  # ← 파비콘
    layout="wide"
)
```

---

## 🔍 배포 상태 확인하기

### Streamlit Cloud 대시보드
👉 https://share.streamlit.io

여기서 확인 가능:
- ✅ 배포 진행 상황
- ✅ 실시간 로그
- ✅ 앱 다시 시작
- ✅ 설정 변경

---

## ⚡ 빠른 참고

### 코드 수정 → 배포 (한 줄)
```bash
cd "/Users/jangjiho/Desktop/커서AI" && ./배포하기.sh
```

### 배포 상태 확인
```bash
cd "/Users/jangjiho/Desktop/커서AI" && git status
```

### 변경 내역 보기
```bash
cd "/Users/jangjiho/Desktop/커서AI" && git log --oneline -5
```

---

## 🆘 문제 해결

### "변경사항이 없습니다" 메시지
→ 파일을 저장했는지 확인 (⌘ + S)

### "push rejected" 에러
```bash
cd "/Users/jangjiho/Desktop/커서AI"
git pull origin main
git push origin main
```

### Streamlit Cloud에서 에러 발생
1. https://share.streamlit.io 접속
2. 앱 선택
3. "Logs" 탭에서 에러 확인
4. 코드 수정 후 다시 배포

---

## 📊 추천 워크플로우

### 개발 → 테스트 → 배포

1. **로컬 테스트**
   ```bash
   cd "/Users/jangjiho/Desktop/커서AI"
   source .venv/bin/activate
   streamlit run 장사의신-게임.py
   ```
   → http://localhost:8502 에서 확인

2. **만족하면 배포**
   ```bash
   ./배포하기.sh
   ```

3. **배포된 앱 확인**
   → Streamlit Cloud URL 접속

---

## 🎓 Git 기본 명령어

```bash
# 현재 상태 확인
git status

# 변경사항 보기
git diff

# 커밋 히스토리
git log

# 특정 파일만 추가
git add 장사의신-게임.py

# 모든 변경사항 추가
git add .

# 커밋
git commit -m "메시지"

# GitHub에 업로드
git push origin main
```

---

## 💡 팁

1. **자주 커밋하기**: 작은 변경도 커밋해서 기록 남기기
2. **의미있는 커밋 메시지**: "수정함" ❌ → "시장 화폐량 기본값 변경" ✅
3. **로컬 테스트 먼저**: 배포 전 로컬에서 확인
4. **백업 습관**: 중요한 변경 전 코드 복사해두기

---

## 🎯 체크리스트

배포 전 확인사항:
- [ ] 코드 수정 완료
- [ ] 파일 저장 (⌘ + S)
- [ ] 로컬 테스트 (선택사항)
- [ ] 배포 스크립트 실행
- [ ] Streamlit Cloud에서 배포 확인
- [ ] 배포된 URL 접속 확인

완료! 🎉

