# 🤖 AI 조언자 시스템 - 설정 가이드

## 🎯 개요

**장사의 신 게임**에 AI 조언자 시스템이 추가되었습니다!

### ✨ 새로운 기능

1. **AI 창업 아이템 분석** 
   - 학생이 원하는 아이템을 자유롭게 설명
   - AI가 자동으로 원가율, 노력도, 타겟 고객 분석
   - 맞춤형 사업 계획 자동 생성

2. **실시간 전략 조언**
   - 판매 결과 저장 후 AI 피드백
   - 가격 전략, 마케팅 포인트 제안
   - 다음 라운드 전략 추천

3. **맞춤형 코칭**
   - 학생별 상황에 맞는 조언
   - 시장 상황을 반영한 전략 제시
   - 격려와 실질적 팁 제공

---

## 🔑 OpenAI API 키 발급받기

AI 조언자를 사용하려면 OpenAI API 키가 필요합니다.

### 1단계: OpenAI 계정 만들기

1. 👉 **https://platform.openai.com/signup** 접속
2. 이메일 또는 Google 계정으로 가입
3. 무료! (단, 사용량에 따라 과금)

### 2단계: API 키 생성

1. 👉 **https://platform.openai.com/api-keys** 접속
2. **"Create new secret key"** 버튼 클릭
3. 이름 입력 (예: "장사의신게임")
4. **키 복사** (⚠️ 한 번만 보입니다!)
   - 형태: `sk-proj-xxxxxxxxxxxxxxxxxxxxxxxx`
5. 안전한 곳에 저장

### 3단계: 요금제 설정 (선택사항)

**무료 크레딧**: 신규 가입 시 $5 크레딧 제공 (3개월 유효)

**예상 비용** (GPT-4o-mini 사용):
- 학생 1명당 AI 분석 1회: 약 $0.01 (약 13원)
- 1회 피드백: 약 $0.005 (약 7원)
- 학생 30명 × 2라운드: 약 $0.9 (약 1,200원)

💡 **팁**: 무료 크레딧으로 충분히 사용 가능!

---

## ⚙️ Streamlit Cloud에 API 키 설정하기

### 방법 1: Streamlit Secrets 사용 (권장)

1. **Streamlit Cloud 대시보드** 접속
   - 👉 https://share.streamlit.io

2. 배포된 앱 선택

3. **Settings (⚙️)** 클릭

4. **Secrets** 섹션에서 다음 추가:

```toml
OPENAI_API_KEY = "sk-proj-여기에-당신의-API-키-입력"
```

5. **Save** 클릭

6. 앱이 자동으로 재시작됨

### 방법 2: 앱 내에서 직접 입력

1. 배포된 앱 접속

2. 좌측 사이드바 **"🤖 AI 조언자 설정"** 펼치기

3. API 키 입력 (비밀번호 형식으로 안전하게 입력)

4. ✅ "AI 조언자 활성화됨!" 메시지 확인

⚠️ **주의**: 이 방법은 새로고침하면 다시 입력해야 합니다.

---

## 🎮 사용 방법

### 1. AI로 창업 아이템 분석

#### 학생 입력 예시:
```
학생 이름: 김철수

창업 아이디어:
"손으로 직접 만든 귀여운 동물 캐릭터 키링을 팔고 싶어요.
재료는 펠트와 솜을 사용할 거고, 색깔도 다양하게 만들 수 있어요.
한 개 만드는데 30분 정도 걸릴 것 같아요."
```

#### AI 분석 결과:
- 🏭 사업 유형: 제조업
- 💰 원가율: 55%
- 🔥 노력도: 4/5
- 🎯 타겟 고객: 일반
- 📊 분석 근거: "수제 제품으로 재료비와 시간이 많이 소요..."
- 💡 조언: "퀄리티를 강조하고 차별화된 디자인으로..."

### 2. 판매 후 AI 피드백

판매 결과 저장하면 자동으로 AI가 분석:

```
🤖 AI 조언자의 피드백:

철수님, 1라운드 수고하셨습니다!

현재 마진율 45%로 양호한 편입니다. 하지만 판매량이 다소 
적은 편이네요. 2라운드에는 다음을 시도해보세요:

1. 가격을 10% 정도 낮춰서 더 많은 고객에게 어필
2. 키링의 독특한 점(수제, 커스텀 가능 등)을 강조
3. 일반 고객뿐 아니라 짠물 고객도 타겟해보세요

작은 할인보다 판매량 증가가 더 큰 이익을 가져올 수 있어요!
```

---

## 🔒 보안 및 주의사항

### API 키 보안

1. ⚠️ **절대 공개하지 마세요**
   - GitHub에 직접 업로드 금지
   - 학생들에게 보여주지 않기

2. ✅ **안전한 저장**
   - Streamlit Secrets 사용 (권장)
   - 또는 환경 변수로 설정

3. 🔄 **정기적으로 재생성**
   - 의심스러운 활동 발견 시
   - 주기적으로 키 교체

### 비용 관리

1. **사용량 모니터링**
   - 👉 https://platform.openai.com/usage
   - 일별/월별 사용량 확인

2. **예산 한도 설정**
   - Settings → Usage limits
   - 월 예산 설정 (예: $10)

3. **비용 절약 팁**
   - GPT-4o-mini 사용 (저렴하고 충분함)
   - 필요할 때만 AI 분석 사용
   - 템플릿 응답 활용

---

## ❓ 문제 해결

### "AI 조언자 비활성화" 표시

**원인**: API 키가 설정되지 않음

**해결**:
1. Streamlit Secrets에 키 추가
2. 또는 사이드바에서 직접 입력

### "AI 분석 중 오류 발생"

**원인 1**: API 키가 잘못됨
- 해결: 키를 다시 확인하고 재입력

**원인 2**: 크레딧 소진
- 해결: OpenAI 대시보드에서 크레딧 확인
- https://platform.openai.com/usage

**원인 3**: API 호출 한도 초과
- 해결: 잠시 기다렸다가 다시 시도
- 또는 요금제 업그레이드

### AI 응답이 이상함

**해결**:
- 창업 아이디어를 더 자세히 설명
- 구체적인 정보 제공 (재료, 시간, 타겟 등)

---

## 💡 효과적인 활용 팁

### 1. 창의적인 아이템 격려

학생들에게:
- "어떤 아이템이든 설명해보세요!"
- "독특한 아이디어일수록 좋아요"
- "AI가 실현 가능성을 분석해줄 거예요"

### 2. AI 조언 활용하기

교사가:
- AI 조언을 참고하되, 최종 판단은 직접
- 학생들과 AI 조언에 대해 토론
- "AI는 왜 이렇게 조언했을까?" 질문

### 3. 학습 효과 극대화

- AI 분석 결과를 학급 전체와 공유
- 다양한 사업 유형의 차이점 설명
- 실패도 배움의 기회로 활용

---

## 📊 예시 시나리오

### 시나리오 1: 독특한 아이템

**학생 아이디어**: "친구들의 고민을 들어주고 조언해주는 서비스"

**AI 분석**:
- 사업 유형: 지식/서비스업
- 원가율: 15% (거의 없음)
- 노력도: 5/5 (감정 노동)
- 조언: "무형 서비스라 차별화가 중요. 전문성을 어떻게 보여줄지 고민해보세요"

### 시나리오 2: 실용적 아이템

**학생 아이디어**: "학교에서 쓸 수 있는 귀여운 필기구 세트"

**AI 분석**:
- 사업 유형: 유통업
- 원가율: 50% (도매가)
- 노력도: 2/5 (구매 후 판매)
- 조언: "가격 경쟁력이 중요. 여러 곳을 비교해서 싸게 떼올 수 있는 곳을 찾으세요"

---

## 🎓 교육적 가치

### AI 조언자의 교육 효과

1. **개인화된 학습**
   - 학생별 맞춤 피드백
   - 자신의 아이디어에 대한 즉각적인 분석

2. **비판적 사고 훈련**
   - AI 조언을 맹신하지 않고 검토
   - "왜 AI가 이렇게 판단했을까?" 생각

3. **실제 세계 연결**
   - AI가 실제 비즈니스에서 어떻게 활용되는지 체험
   - 미래 직업 세계 엿보기

---

## 🚀 고급 설정 (선택사항)

### 모델 변경

코드에서 모델을 변경할 수 있습니다:

```python
# 더 저렴한 모델 (현재 사용 중)
model="gpt-4o-mini"  # 권장!

# 더 똑똑한 모델 (비쌈)
model="gpt-4o"  # 10배 비쌈
```

### 온도(Temperature) 조정

```python
# 더 창의적인 응답
temperature=0.9

# 더 일관된 응답
temperature=0.5
```

---

## 📞 지원

### 문제 발생 시

1. 이 가이드의 "문제 해결" 섹션 확인
2. OpenAI 상태 페이지: https://status.openai.com
3. Streamlit 커뮤니티: https://discuss.streamlit.io

### 추가 기능 요청

- 더 나은 조언 템플릿
- 다른 AI 기능
- 기타 개선 사항

언제든 문의하세요!

---

## ✅ 체크리스트

배포 전 확인사항:

- [ ] OpenAI API 키 발급
- [ ] Streamlit Secrets에 키 등록
- [ ] 테스트 학생으로 AI 분석 테스트
- [ ] 판매 후 피드백 테스트
- [ ] 사용량 모니터링 설정
- [ ] 예산 한도 설정

완료! 🎉

---

**마지막 업데이트**: 2026-01-02

**버전**: 1.0.0

**라이선스**: 교육용 무료 사용

