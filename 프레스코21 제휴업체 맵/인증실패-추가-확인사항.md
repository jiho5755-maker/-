# 네이버 지도 API 인증 실패 추가 확인사항

## 🔍 현재 상황 분석

콘솔 로그를 보면:
- ✅ "✔ 네이버 지도 API 스크립트 로드 완료" - 스크립트는 정상 로드
- ✅ "[제휴업체지도] 지도 초기화 성공" - 지도 초기화 성공
- ❌ "네이버 지도 Open API 인증이 실패하였습니다" - API 호출 시 인증 실패
- ❌ URI: `http://localhost:8080/...` (URL 인코딩됨)

**결론:** 스크립트는 로드되지만, 실제 API 호출(지도 타일 로드 등)에서 인증 실패 발생

---

## ✅ 네이버 클라우드 플랫폼 콘솔 재확인

### 1. Application 이름 확인

콘솔에서:
- Application 이름: **"Pressco21-Maps"** (확인 필요)
- Client ID: **bfp8odep5r**

이것이 HTML 파일의 Client ID와 일치하는지 확인하세요.

---

### 2. Web Service URL 정확한 형식 확인

**중요:** URL 끝에 슬래시(/)가 있으면 안 됩니다!

**올바른 형식:**
```
http://localhost:8080
http://localhost
```

**잘못된 형식:**
```
http://localhost:8080/  ← 슬래시 있으면 안 됨!
http://localhost/       ← 슬래시 있으면 안 됨!
```

---

### 3. Application 생성/수정 시간 확인

네이버 클라우드 플랫폼 콘솔에서:
1. Maps → Application → "Pressco21-Maps" 클릭
2. Web Service URL 섹션 확인
3. URL이 정확히 등록되어 있는지 확인
4. **저장 버튼이 있는지 확인하고 클릭**
5. "수정 시간" 또는 "최종 수정" 시간 확인

---

### 4. 다른 Application 사용 테스트

기존 Application에 문제가 있을 수 있으므로:

1. **새 Application 생성:**
   - 콘솔 → Maps → Application → "Application 등록"
   - Application 이름: "Pressco21-Maps-Test"
   - API 선택: Dynamic Map, Geocoding
   - Web Service URL: `http://localhost:8080` (슬래시 없이)
   - 저장

2. **새 Client ID 확인:**
   - Application 목록에서 새 Application 클릭
   - 상단에 표시된 Client ID 복사

3. **HTML 파일 수정:**
   - 17번째 줄의 Client ID를 새 Client ID로 변경
   - 저장

4. **30분 대기 후 테스트**

---

## 🔧 대안 해결 방법

### 방법 1: 포트 번호 없이 localhost만 등록

네이버 클라우드 플랫폼 콘솔에서:

1. 기존 `http://localhost:8080` 삭제 (있다면)
2. `http://localhost`만 등록 (포트 번호 없이)
3. 저장
4. 30분 대기
5. 테스트

**이유:** `http://localhost`를 등록하면 모든 포트에서 작동할 수 있습니다.

---

### 방법 2: 127.0.0.1 사용

1. 네이버 클라우드 플랫폼 콘솔
2. Web Service URL에 추가:
   ```
   http://127.0.0.1:8080
   ```
3. 저장
4. 브라우저에서 접속:
   ```
   http://127.0.0.1:8080/제휴업체-지도-통합본.html
   ```
5. 테스트

---

### 방법 3: 네이버 클라우드 플랫폼 고객센터 문의

**전화:** 1544-7876

**문의 내용:**
```
Maps API 사용 중 인증 실패 에러 발생

Application 이름: Pressco21-Maps
Client ID: bfp8odep5r
Web Service URL: http://localhost:8080 등록 완료
등록 시간: 2시간 전
저장 완료

상황:
- 스크립트는 정상 로드됨 (200 OK)
- 지도 초기화 성공
- 하지만 API 호출 시 인증 실패 발생
- 에러 메시지: "네이버 지도 Open API 인증이 실패하였습니다"
- Error Code: 200 / Authentication Failed
- URI: http://localhost:8080/제휴업체-지도-통합본.html

원인 확인 부탁드립니다.
```

---

## 📋 최종 체크리스트

- [ ] Application 이름 확인 (Pressco21-Maps)
- [ ] Client ID 확인 (bfp8odep5r)
- [ ] Web Service URL에 `http://localhost:8080` 등록 (슬래시 없이)
- [ ] 저장 버튼 클릭 완료
- [ ] "저장되었습니다" 메시지 확인
- [ ] 등록 후 2시간 이상 경과 (이미 완료)
- [ ] 브라우저 캐시 삭제
- [ ] 시크릿 모드에서 테스트

---

## 💡 참고

네이버 지도 API 인증 실패의 경우:
- 스크립트 파일(maps.js)은 로드될 수 있음
- 하지만 실제 API 호출(타일, 검색 등)에서 인증 확인
- 따라서 Web Service URL 등록이 반드시 필요

현재 상황에서는 네이버 클라우드 플랫폼 고객센터에 문의하는 것이 가장 확실한 해결 방법입니다.

